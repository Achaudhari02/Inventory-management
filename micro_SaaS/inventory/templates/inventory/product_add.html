{% extends "inventory/base.html" %}

{% block title %}
    {% if action == 'Add' %}
        Add Product - Brown And Co
    {% else %}
        Update Product - Brown And Co
    {% endif %}
{% endblock title %}

{% block content %}

<!-- Page Header -->
<div class="page-header">
  <h1 class="page-title">
    {% if action == 'Add' %}
    <i class="bi bi-plus-circle"></i> Add New Product
    {% else %}
    <i class="bi bi-pencil"></i> Update Product
    {% endif %}
  </h1>
  <p class="page-subtitle">
    {% if action == 'Add' %}
    Add a new product to your inventory
    {% else %}
    Update product information
    {% endif %}
  </p>
</div>

<!-- Form Card -->
<div class="row justify-content-center">
  <div class="col-lg-8">
    <div class="modern-card">
      <form method="post">
        {% csrf_token %}

        <!-- Basic Information Section -->
        <div class="form-section">
          <h5 class="form-section-title">
            <i class="bi bi-info-circle"></i> Basic Information
          </h5>
          <div class="row g-3">
            <div class="col-md-12">
              <label for="{{ form.name.id_for_label }}" class="form-label">
                Product Name <span class="text-danger">*</span>
              </label>
              {{ form.name }}
              {% if form.name.errors %}
              <div class="text-danger small mt-1">{{ form.name.errors }}</div>
              {% endif %}
            </div>

            <div class="col-md-6">
              <label for="{{ form.sku.id_for_label }}" class="form-label">
                SKU <span class="text-danger">*</span>
              </label>
              {{ form.sku }}
              <div class="form-text">Stock Keeping Unit (alphanumeric)</div>
              {% if form.sku.errors %}
              <div class="text-danger small mt-1">{{ form.sku.errors }}</div>
              {% endif %}
            </div>

            <div class="col-md-6">
              <label for="{{ form.category.id_for_label }}" class="form-label">
                Category <span class="text-danger">*</span>
              </label>
              {{ form.category }}
              {% if form.category.errors %}
              <div class="text-danger small mt-1">{{ form.category.errors }}</div>
              {% endif %}
            </div>
          </div>
        </div>

        <!-- Stock Details Section -->
        <div class="form-section">
          <h5 class="form-section-title">
            <i class="bi bi-box-seam"></i> Stock Details
          </h5>
          <div class="row g-3">
            <div class="col-md-4">
              <label for="{{ form.current_quantity.id_for_label }}" class="form-label">
                Current Quantity <span class="text-danger">*</span>
              </label>
              {{ form.current_quantity }}
              {% if form.current_quantity.errors %}
              <div class="text-danger small mt-1">{{ form.current_quantity.errors }}</div>
              {% endif %}
            </div>

            <div class="col-md-4">
              <label for="{{ form.reorder_level.id_for_label }}" class="form-label">
                Reorder Level <span class="text-danger">*</span>
              </label>
              {{ form.reorder_level }}
              <div class="form-text">Alert when stock reaches this level</div>
              {% if form.reorder_level.errors %}
              <div class="text-danger small mt-1">{{ form.reorder_level.errors }}</div>
              {% endif %}
            </div>

            <div class="col-md-4">
              <label for="{{ form.unit.id_for_label }}" class="form-label">
                Unit <span class="text-danger">*</span>
              </label>
              {{ form.unit }}
              <div class="form-text">e.g., pcs, kg, box</div>
              {% if form.unit.errors %}
              <div class="text-danger small mt-1">{{ form.unit.errors }}</div>
              {% endif %}
            </div>
          </div>
        </div>

        <!-- Supplier Information Section -->
        <div class="form-section">
          <h5 class="form-section-title">
            <i class="bi bi-truck"></i> Supplier Information
          </h5>
          <div class="row g-3">
            <div class="col-md-12">
              <label for="{{ form.supplier_name.id_for_label }}" class="form-label">
                Supplier Name
              </label>
              {{ form.supplier_name }}
              <div class="form-text">Optional: Add supplier information</div>
              {% if form.supplier_name.errors %}
              <div class="text-danger small mt-1">{{ form.supplier_name.errors }}</div>
              {% endif %}
            </div>
          </div>
        </div>

        <!-- Non-field Errors -->
        {% if form.non_field_errors %}
        <div class="alert alert-danger">
          {{ form.non_field_errors }}
        </div>
        {% endif %}

        <!-- Action Buttons -->
        <div class="d-flex gap-2 justify-content-end">
          <a href="{% url 'product_list' %}" class="btn btn-secondary">
            <i class="bi bi-x-circle"></i> Cancel
          </a>
          <button type="submit" class="btn btn-primary">
            <i class="bi bi-check-circle"></i>
            {% if action == 'Add' %}Save Product{% else %}Update Product{% endif %}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

{% endblock content %}